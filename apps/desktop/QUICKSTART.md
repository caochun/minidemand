# Desktop App 快速入门指南

## 🚀 5 分钟快速开始

### 1️⃣ 安装依赖

```bash
cd apps/desktop
npm install
```

### 2️⃣ 启动应用

```bash
npm start
```

应用将在 http://localhost:3004 启动

### 3️⃣ 创建会话

1. 打开浏览器访问 http://localhost:3004
2. 选择桌面环境（推荐 MATE 或 Xfce）
3. 配置资源：
   - 分辨率：1920x1080
   - 时长：2 小时
   - CPU：1 核
   - 内存：2 GB
4. 点击"启动桌面会话"

### 4️⃣ 等待启动

会话状态会从"启动中"变为"运行中"（约 3 秒）

### 5️⃣ 连接桌面

点击"连接桌面"按钮查看连接信息

---

## 📋 基本操作

### 查看所有会话

所有活动会话都显示在"活动会话"区域，包括：
- 会话状态
- 资源配置
- 创建和启动时间
- 连接信息（运行中的会话）

### 停止会话

点击会话卡片中的"停止"按钮

### 删除会话

已完成的会话可以点击"删除"按钮清理

### 刷新列表

点击"刷新"按钮手动刷新会话列表（自动每 5 秒刷新）

---

## 🎯 桌面环境选择

### MATE Desktop ⭐ 推荐
- **特点**：轻量、稳定、易用
- **适用场景**：通用桌面任务
- **资源消耗**：低

### Xfce Desktop ⭐ 推荐
- **特点**：快速、轻量、可定制
- **适用场景**：性能敏感任务
- **资源消耗**：低

### GNOME Desktop
- **特点**：现代、功能丰富
- **适用场景**：需要最新功能
- **资源消耗**：中高

### KDE Plasma
- **特点**：功能强大、高度定制
- **适用场景**：高级用户
- **资源消耗**：中高

---

## 💡 使用技巧

### 资源配置建议

**轻量任务**（文本编辑、浏览文件）
- CPU: 1 核
- 内存: 1-2 GB
- 桌面: MATE 或 Xfce

**中等任务**（开发、轻量数据处理）
- CPU: 2-4 核
- 内存: 4-8 GB
- 桌面: MATE、Xfce 或 GNOME

**重量任务**（数据分析、可视化）
- CPU: 4-8 核
- 内存: 8-16 GB
- 桌面: GNOME 或 KDE

### 分辨率选择

- **1920x1080**: 标准全高清，推荐
- **1600x900**: 平衡性能和显示
- **1280x720**: 低带宽或性能优先

### 时长设置

- **1-2 小时**: 短期任务
- **4-8 小时**: 开发工作
- **12-24 小时**: 长期运行任务

---

## 🔧 故障排除

### 会话启动失败

**问题**: 会话状态显示"失败"
**解决**:
1. 检查服务器日志
2. 确认桌面环境已安装
3. 验证资源配额

### 无法连接

**问题**: 会话运行中但无法连接
**解决**:
1. 检查连接信息是否完整
2. 确认防火墙设置
3. 查看会话日志

### 端口冲突

**问题**: 应用启动失败，提示端口占用
**解决**:
```bash
# 查找占用端口的进程
lsof -i :3004

# 或更改端口启动
PORT=3005 npm start
```

---

## 📚 相关文档

- **完整文档**: [README.md](README.md)
- **API 文档**: README.md 中的 API 部分
- **桌面脚本**: [templates/desktops/](templates/desktops/)

---

## 🎓 进阶使用

### 通过 API 创建会话

```bash
curl -X POST http://localhost:3004/api/sessions \
  -H "Content-Type: application/json" \
  -d '{
    "desktop": "mate",
    "resolution": "1920x1080",
    "duration": 2,
    "cores": 2,
    "memory": 4
  }'
```

### 查询会话状态

```bash
curl http://localhost:3004/api/sessions
```

### 获取 VNC 连接信息

```bash
curl http://localhost:3004/api/sessions/{session-id}/vnc
```

---

## 🆘 获取帮助

遇到问题？
1. 查看 [README.md](README.md) 完整文档
2. 检查服务器日志输出
3. 提交 Issue

---

**祝你使用愉快！🎉**

